"use strict";(self.webpackChunkreact_py_docs=self.webpackChunkreact_py_docs||[]).push([[533],{2564:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>v,contentTitle:()=>f,default:()=>C,exampleInputCode:()=>w,frontMatter:()=>b,metadata:()=>g,toc:()=>y});var i=t(7462),a=t(7294),o=t(3905),l=t(1262),r=t(2949),d=t(6816),s=t(9587),u=t(1451),m=t(6533),p=t(4967);const c={enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,highlightActiveLine:!1,showPrintMargin:!1},h=e=>{e.renderer.setScrollMargin(10,10,0,0),e.moveCursorTo(0,0)};function x(e){const{code:n,packages:i}=e,[o,x]=(0,a.useState)(n.trimEnd()),[b,f]=(0,a.useState)(!1),[g,v]=(0,a.useState)();(0,a.useEffect)((()=>{x(n.trimEnd()),f(!1)}),[n]);const{colorMode:y}=(0,r.useColorMode)(),{runPython:w,stdout:k,stderr:N,isLoading:C,isRunning:E,interruptExecution:I}=(0,d.usePython)({packages:i});return a.createElement(a.Fragment,null,a.createElement("div",{className:"mb-4 lg:w-1/2"},a.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-100"},"Name"),a.createElement("div",{className:"mt-1"},a.createElement("input",{type:"text",name:"name",id:"name",className:"block w-full rounded-md border-none bg-neutral-200 px-2 py-1.5 placeholder-gray-400 shadow-sm focus:ring-0 dark:bg-neutral-600 sm:text-sm",placeholder:"Type a name",onChange:e=>v(e.target.value.trim())}))),a.createElement("div",{className:"relative mb-10 flex flex-col"},a.createElement(s.default,{items:[{label:"Run",icon:u,onClick:async function(){w(`name = '${g}'\n\n${o}\n`),f(!0)},disabled:C||E,hidden:E},{label:"Stop",icon:m,onClick:function(){I(),f(!1)},hidden:!E},{label:"Reset",icon:p,onClick:function(){f(!1),x(n.trimEnd())},disabled:E}]}),a.createElement(l.default,{fallback:a.createElement("div",null,"Loading...")},(()=>{const e=t(4981).default;return t(4007),t(2777),t(3783),t(2679),a.createElement(e,{value:o,mode:"python",name:"CodeBlock",fontSize:"0.9rem",className:"min-h-[4rem] overflow-clip rounded shadow-md",theme:"dark"===y?"idle_fingers":"textmate",onChange:e=>x(e),width:"100%",maxLines:1/0,onLoad:h,editorProps:{$blockScrolling:!0},setOptions:c})})),b&&a.createElement("pre",{className:"mt-4 text-left"},a.createElement("code",null,k),a.createElement("code",{className:"text-red-500"},N))))}const b={sidebar_position:8},f="User Input",g={unversionedId:"examples/user-input",id:"examples/user-input",title:"User Input",description:"The behavior of stdin is controlled by Pyodide, the Python distribution we use, which calls a Window.prompt() to collect user input and blocks execution on the main thread. This behavior is not currently extensible, as blocking the main thread is a special case and is only allowed for a handful of methods. However, there is active development working toward a solution to this issue and we hope to have input() usage patched in the near future.",source:"@site/docs/examples/user-input.mdx",sourceDirName:"examples",slug:"/examples/user-input",permalink:"/docs/examples/user-input",draft:!1,editUrl:"https://github.com/apprendre-python/apprendre-python.github.io/docs/examples/user-input.mdx",tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8}},v={},y=[{value:"User input field",id:"user-input-field",level:2},{value:"Override built-in <code>input()</code>",id:"override-built-in-input",level:2}],w='print(f"Hello, {name}!")\n',k={toc:y,exampleInputCode:w},N="wrapper";function C(e){let{components:n,...t}=e;return(0,o.mdx)(N,(0,i.default)({},k,t,{components:n,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"user-input"},"User Input"),(0,o.mdx)("admonition",{type:"caution"},(0,o.mdx)("p",{parentName:"admonition"},"The behavior of ",(0,o.mdx)("inlineCode",{parentName:"p"},"stdin")," is controlled by Pyodide, the Python distribution we use, which calls a ",(0,o.mdx)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/Window/prompt"},(0,o.mdx)("inlineCode",{parentName:"a"},"Window.prompt()"))," to collect user input and blocks execution on the main thread. This behavior is not currently extensible, as blocking the main thread is a special case and is only allowed for a handful of methods. However, there is active development working toward a solution to this issue and we hope to have ",(0,o.mdx)("inlineCode",{parentName:"p"},"input()")," usage patched in the near future.")),(0,o.mdx)("p",null,"In the meantime, depending on your use case, you may be able to use the following alternatives to ",(0,o.mdx)("inlineCode",{parentName:"p"},"stdin"),"."),(0,o.mdx)("h2",{id:"user-input-field"},"User input field"),(0,o.mdx)("p",null,"If you're anticipating input from a user, you could render a separate input field for user input and assign the result to a variable in Python:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-tsx"},"async function run() {\n  // Set the input variable in Python\n  const code = `name = '${userInput}'\n\n${input}\n`\n\n  runPython(code)\n}\n")),(0,o.mdx)("p",null,"The following example shows this in action. To try it out:"),(0,o.mdx)("ul",null,(0,o.mdx)("li",{parentName:"ul"},"Enter a value in the input field below, which will set the ",(0,o.mdx)("inlineCode",{parentName:"li"},"userInput")," variable"),(0,o.mdx)("li",{parentName:"ul"},"Run by clicking ",(0,o.mdx)("inlineCode",{parentName:"li"},"Run")," which will execute the code in the editor window, with the ",(0,o.mdx)("inlineCode",{parentName:"li"},"name")," variable prepended to the code")),(0,o.mdx)(x,{code:w,mdxType:"Input"}),(0,o.mdx)("p",null,"{exampleInputCode}"),(0,o.mdx)("p",null,"You can find the source code for this example ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/elilambnz/react-py/blob/main/website/src/components/Input.tsx"},"here"),"."),(0,o.mdx)("h2",{id:"override-built-in-input"},"Override built-in ",(0,o.mdx)("inlineCode",{parentName:"h2"},"input()")),(0,o.mdx)("p",null,"You could override the built-in input() function to provide a mock input value:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-python"},'import builtins\n\ndef mock_input(prompt):\n    print(prompt)\n    return "Name"\n\nbuiltins.input = mock_input\n\nname = input("Enter your name:")\n\nprint(f"Hello, {name}!")\n')))}C.isMDXComponent=!0}}]);