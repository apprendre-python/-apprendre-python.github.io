"use strict";(self.webpackChunkreact_py_docs=self.webpackChunkreact_py_docs||[]).push([[904,918],{8072:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var n=a(7294),o=a(1262),s=a(2949),i=a(6816),r=a(4673),d=a(9587),p=a(1451),l=a(6533),c=a(4967),m=a(8573);const u={enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,highlightActiveLine:!1,showPrintMargin:!1},h=e=>{e.renderer.setScrollMargin(10,10,0,0),e.moveCursorTo(0,0)};function f(e){let{init:t,tests:f,solution:g,packages:x}=e;const[y,b]=(0,n.useState)(t),[k,C]=(0,n.useState)(!1),{colorMode:E}=(0,s.useColorMode)(),v=(0,i.usePython)({packages:x}),_=(0,i.usePython)({packages:x});let[N,P]=[-1,"\u2705 Tests pass\xe9s avec succ\xe8s !"];if(_.stdout){let e=_.stdout.trim().split("\n");for(let t=0;t<e.length;t++)if(e[t]!=f[t][1]){P=`\u274c Erreur : ${f[t][0]} renvoie ${e[t]} au lieu de ${f[t][1]}`,N=0;break}-1===N&&(N=1)}return n.createElement("div",null,n.createElement("div",{className:"relative mb-10 flex flex-col"},n.createElement(d.default,{items:[{label:"Run",icon:p,onClick:function(){v.runPython(y),C(!0);const e=`${y.replace(/print\(.*\)/g,"")}\n`+f.map((e=>`print(${e[0]})`)).join("\n");console.log(e),_.runPython(e)},disabled:v.isLoading||v.isRunning,hidden:v.isRunning},{label:"Stop",icon:l,onClick:function(){v.interruptExecution(),C(!1)},hidden:!v.isRunning},{label:"Reset",icon:c,onClick:function(){C(!1),b(g.trimEnd())},disabled:v.isRunning}]}),n.createElement(o.default,{fallback:n.createElement("div",null,"Loading...")},(()=>{const e=a(4981).default;return a(4007),a(2777),a(3783),a(2679),n.createElement(e,{value:y,mode:"python",name:"CodeBlock",fontSize:"0.9rem",className:"min-h-[4rem] overflow-clip rounded shadow-md",theme:"dark"===E?"idle_fingers":"textmate",onChange:b,width:"100%",maxLines:1/0,onLoad:h,editorProps:{$blockScrolling:!0},setOptions:u})})),k&&n.createElement("pre",{className:"mt-4 text-left"},v.stdout,1===N&&n.createElement("code",{className:"text-green-500"},P),0===N&&n.createElement("code",{className:"text-red-500"},P),n.createElement("code",{className:"text-red-500"},v.stderr)),1===N&&n.createElement(r.default,{summary:"Solution",className:"bg-green-100 dark:bg-green-900"},n.createElement(m.default,{language:"python",showLineNumbers:!0},g))))}},8573:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var n=a(7462),o=a(7294),s=a(2389),i=a(1170),r=a(5864),d=a(8072);function p(e){let{children:t,...a}=e;const p=(0,s.default)(),l=function(e){return o.Children.toArray(e).some((e=>(0,o.isValidElement)(e)))?e:Array.isArray(e)?e.join(""):e}(t);if("language-python"===a.className)return o.createElement(d.default,{code:l});{const e="string"==typeof l?r.default:i.default;return o.createElement(e,(0,n.default)({key:String(p)},a),l)}}},8165:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>r,default:()=>y,exampleCode:()=>c,exampleDeleteCode:()=>f,exampleGetCode:()=>m,examplePostCode:()=>u,examplePutCode:()=>h,frontMatter:()=>i,metadata:()=>d,toc:()=>l});var n=a(7462),o=(a(7294),a(3905)),s=a(8072);const i={sidebar_position:7},r="Making API Calls",d={unversionedId:"examples/making-api-calls",id:"examples/making-api-calls",title:"Making API Calls",description:"Due to sockets being unavailable in Pyodide, packages such as requests are currently unsupported out of the box.",source:"@site/docs/examples/making-api-calls.mdx",sourceDirName:"examples",slug:"/examples/making-api-calls",permalink:"/docs/examples/making-api-calls",draft:!1,editUrl:"https://github.com/apprendre-python/apprendre-python.github.io/docs/examples/making-api-calls.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7}},p={},l=[{value:"<code>GET</code>",id:"get",level:2},{value:"<code>POST</code>",id:"post",level:2},{value:"<code>PUT</code>",id:"put",level:2},{value:"<code>DELETE</code>",id:"delete",level:2}],c="import pyodide_http\npyodide_http.patch_all()\n\nimport requests\nresponse = requests.get('https://api.github.com/repos/elilambnz/react-py')\ndata = response.json()\n\nprint(\"*\" * 50)\nprint(f\"Repository: {data['full_name']}\")\nprint(f\"Owner: {data['owner']['login']}\")\nprint(f\"Number of stars: {data['stargazers_count']} \u2b50\ufe0f\")\nprint(f\"Number of forks: {data['forks_count']} \ud83c\udf74\")\nprint(f\"Number of watchers: {data['watchers_count']} \ud83d\udc40\")\nprint(\"*\" * 50)\n",m="import pyodide_http\npyodide_http.patch_all()\n\nimport requests\nresponse = requests.get('https://reqres.in/api/users/2')\ndata = response.json()\n\nprint(data)\n",u='import pyodide_http\npyodide_http.patch_all()\n\nimport requests\nresponse = requests.post(\'https://reqres.in/api/users\', { "name": "morpheus", "job": "leader" })\ndata = response.json()\n\nprint(data)\n',h='import pyodide_http\npyodide_http.patch_all()\n\nimport requests\nresponse = requests.put(\'https://reqres.in/api/users/2\', { "name": "morpheus", "job": "zion resident" })\ndata = response.json()\n\nprint(data)\n',f="import pyodide_http\npyodide_http.patch_all()\n\nimport requests\nresponse = requests.delete('https://reqres.in/api/users/2')\n\nif response.status_code == 204:\n  print ('Success')\n",g={toc:l,exampleCode:c,exampleGetCode:m,examplePostCode:u,examplePutCode:h,exampleDeleteCode:f},x="wrapper";function y(e){let{components:t,...a}=e;return(0,o.mdx)(x,(0,n.default)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"making-api-calls"},"Making API Calls"),(0,o.mdx)("p",null,"Due to sockets being unavailable in Pyodide, packages such as ",(0,o.mdx)("inlineCode",{parentName:"p"},"requests")," are ",(0,o.mdx)("a",{parentName:"p",href:"https://pyodide.org/en/stable/project/roadmap.html#write-http-client-in-terms-of-web-apis"},"currently unsupported")," out of the box."),(0,o.mdx)("p",null,"The package ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/koenvo/pyodide-http"},"Pyodide-HTTP")," can be used to patch common http libraries such as ",(0,o.mdx)("inlineCode",{parentName:"p"},"requests"),". See ",(0,o.mdx)("a",{parentName:"p",href:"using-packages"},"Using Packages")," for package installation instructions. To use this package, the following ",(0,o.mdx)("inlineCode",{parentName:"p"},"Packages")," object must be used:"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-js"},"{ official: ['pyodide-http'], micropip: ['requests'] }\n")),(0,o.mdx)("p",null,"Try it out:"),(0,o.mdx)(s.default,{code:c,packages:{official:["pyodide-http"],micropip:["requests"]},mdxType:"CodeEditor"}),(0,o.mdx)("p",null,"If you find this repository useful, consider giving it a star on GitHub: ",(0,o.mdx)("a",{parentName:"p",href:"https://github.com/elilambnz/react-py"},"https://github.com/elilambnz/react-py"),"."),(0,o.mdx)("h2",{id:"get"},(0,o.mdx)("inlineCode",{parentName:"h2"},"GET")),(0,o.mdx)(s.default,{code:m,packages:{official:["pyodide-http"],micropip:["requests"]},mdxType:"CodeEditor"}),(0,o.mdx)("h2",{id:"post"},(0,o.mdx)("inlineCode",{parentName:"h2"},"POST")),(0,o.mdx)(s.default,{code:u,packages:{official:["pyodide-http"],micropip:["requests"]},mdxType:"CodeEditor"}),(0,o.mdx)("h2",{id:"put"},(0,o.mdx)("inlineCode",{parentName:"h2"},"PUT")),(0,o.mdx)(s.default,{code:h,packages:{official:["pyodide-http"],micropip:["requests"]},mdxType:"CodeEditor"}),(0,o.mdx)("h2",{id:"delete"},(0,o.mdx)("inlineCode",{parentName:"h2"},"DELETE")),(0,o.mdx)(s.default,{code:f,packages:{official:["pyodide-http"],micropip:["requests"]},mdxType:"CodeEditor"}))}y.isMDXComponent=!0}}]);